## 图片美化工具
###主要功能：
1. 灰暗图片增白、增亮，锐化文字/图像显示效果，增强对比度
2. 切除多余的白边
3. 背景透明化
4. 多栏排版的书籍可按栏切割
5. PNG图片压缩，处理后体积可减小1/3~2/3

###用法：
1. 安装python 2.7.6
 https://www.python.org/ftp/python/2.7.6/python-2.7.6.msi
2. 安装PIL程序库
 http://effbot.org/downloads/PIL-1.1.7.win32-py2.7.exe
3. 配置beautifier.ini文件，并和pic_beautifier.py放在同一目录下
4. 双击pic_beautifier.py，或命令行输入py pic_beautifier.py
5. bin目录下为压缩图片用win32/OSX/Linux可执行程序
6. 如果图片太大，处理会稍微花时间，不过总比手工快

###ini文件参数配置说明：
    // 图像增强用参数，增亮、增强对比度、锐化(参数范围 1.0 ~ 2.0, 浮点数，自行调整以达到最佳效果)
    brightness=1.3
    contrast  =1.3
    sharpness =1.2
    // 背景色阈值，主要用于背景不够白的图片(参数范围 230~255, 默认255纯白)
    threshold = 234
    // 是否要切除白边。可以用padding保留若干个像素不切除，凡事不能做太绝:)。默认no
    crop      =yes
    padding   =2
    // 由于只能自动切除纯白边，如果图片周边有扫描阴影、装订线窟窿等就切不掉，这时候可以设置skipping跳过去（相当于手动切边）
    // 设置顺序 左[,上,右,下], 像素单位。如果四个方向的值相同，可不设后仨参数。默认全0不跳过
    skipping  =350,280,250,250
    // 按栏分割(范围 1~4, 默认1不分割)
    split     =3
    // 设yes=背景透明化，默认no
    transparency=yes
    // 设yes则压缩PNG图片，压缩比50%以上且肉眼看不出压缩损耗！默认no
    shrink    =yes
    // 设yes可输出所有图片的长宽信息到[out]/img_info.txt
    dump      =yes
    // 输入路径，可为单张图片或文件夹，设置文件夹则批量处理该目录下的所有图片
    in        =F:\mda\2026.png
    // 输出路径，图片/文件夹
    out       =F:\mda

###注意：
1. 要达到较好的切除白边/背景透明化/分割图片效果，请务必仔细调整图像增强参数，把图片背景优化到尽量纯白色
 可以通过增大brightness参数值来增白图片背景
 如果增大参数后效果仍不理想，再调低背景色阈值
2. 不可以输入路径是目录而输出路径是图片文件；
 如果同名文件已在输出路径下存在，则自动覆盖；故为了防止原图被覆盖，程序会检查：
 * A. 输出路径不能和输入路径相同；
 * B. 且不能是输入路径的子目录
